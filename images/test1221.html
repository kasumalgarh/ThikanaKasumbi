<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kasumalgarh - Final Royal Flag</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ================= BACKGROUND ================= */
        body { margin: 0; background: #050010; overflow-x: hidden; font-family: serif; }
        .hero { 
            height: 100vh; 
            background: radial-gradient(circle at center, #1a0000, #000000);
            display: flex; flex-direction: column; justify-content: center; align-items: center; 
            color: #d4af37; text-align: center;
        }

        /* ================= 1. THE BOW (Fixed Right) ================= */
        .bow-container {
            position: fixed;
            top: 50%; transform: translateY(-50%);
            right: 0px; 
            width: 140px; height: 300px;
            z-index: 2000;
        }
        .real-bow {
            width: 100%; height: 100%; object-fit: contain;
            filter: drop-shadow(-5px 5px 10px rgba(0,0,0,0.8));
            pointer-events: none;
        }
        /* Loaded Arrow */
        .loaded-arrow {
            position: absolute; top: 50%; left: 40%;
            width: 15px; height: 200px; 
            transform: translate(-50%, -50%) rotate(-90deg); 
            object-fit: contain; cursor: pointer; pointer-events: auto; z-index: 2001;
            transition: 0.2s;
        }
        .loaded-arrow:hover { filter: drop-shadow(0 0 8px gold); }

        /* ================= 2. THE PROJECTILE SYSTEM ================= */
        #projectile-system {
            position: fixed;
            top: 50%; right: 120px; 
            width: 0; height: 0;
            display: none; z-index: 1999;
            transform: translateY(-50%);
        }

        /* असली तीर (Flying Arrow) */
        .flying-arrow {
            position: absolute; 
            top: -125px; 
            right: 0;
            width: 18px; height: 150px; 
            transform: rotate(-90deg);
            object-fit: fill;
            z-index: 2;
            filter: brightness(1.2);
        }

        /* ================= 3. THE ROYAL FLAG (New Adjustments) ================= */
        .flag-wrapper {
            position: absolute;
            /* 1. पोजीशन ऊपर की (तीर से चिपकाने के लिए) */
            top: -50px; 
            /* 2. पोजीशन पीछे की (तीर की पूँछ की तरफ) */
            right: -35px; 
            /* 3. चौड़ाई कम की (Smart Look) */
            width: 60px; 
            height: 0; 
            transform-origin: top center;
            z-index: 1; 
            display: flex; justify-content: center;
        }

        /* शाही झंडा */
        .royal-flag {
            width: 100%; height: 100%;
            background: #800000; 
            border: 2px solid #b38728; /* बॉर्डर थोड़ी पतली की */
            border-top: none; 
            clip-path: polygon(0 0, 100% 0, 100% 85%, 50% 100%, 0 85%);
            box-shadow: 0 10px 20px rgba(0,0,0,0.8);
            display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 15px;
            overflow: hidden;
            background-image: linear-gradient(to right, rgba(0,0,0,0.3), transparent 20%, transparent 80%, rgba(0,0,0,0.3));
        }

        /* आइकन्स */
        .royal-icon {
            font-size: 24px; /* झंडा छोटा हुआ तो आइकॉन भी थोड़े छोटे किए */
            color: #b38728; 
            border: 1px solid #b38728;
            padding: 6px; border-radius: 5px;
            background: rgba(0,0,0,0.3);
            transition: all 0.3s;
            text-decoration: none;
            opacity: 0; transform: translateY(-10px);
        }
        .royal-icon:hover { 
            background: #b38728; color: #800000; 
            box-shadow: 0 0 10px #b38728;
        }

        /* ================= ANIMATIONS ================= */

        /* 1. तीर की रफ़्तार (Slow Motion - 1.6s) */
        @keyframes shootEmbed {
            0% { right: 120px; }
            /* दीवार में आधा धँसेगा */
            100% { right: calc(100vw - 50px); } 
        }
        .anim-shoot { animation: shootEmbed 1.6s ease-out forwards; }

        /* 2. झंडे का खुलना (Slow Open - 1.3s) */
        .flag-open { 
            height: 100px; /* झंडे की लंबाई */
            transition: height 1.3s cubic-bezier(0.25, 1, 0.5, 1); 
        }

        .icon-visible { opacity: 1; transform: translateY(0); }

    </style>
</head>
<body>

    <div class="hero">
        <h1>FINAL ROYAL ADJUSTMENTS</h1>
        <p>Click the Arrow ➳</p>
    </div>

    <audio id="swoosh-audio" src="https://www.soundjay.com/mechanical/sounds/arrow-whoosh-1.mp3"></audio>

    <div class="bow-container">
        <img src="bow.png" class="real-bow" alt="Bow">
        <img src="arrow.png" class="loaded-arrow" id="click-arrow" alt="Arrow">
    </div>

    <div id="projectile-system">
        
        <img src="arrow.png" class="flying-arrow" alt="Arrow">

        <div class="flag-wrapper" id="flag-wrapper">
            <div class="royal-flag">
                <a href="#" class="royal-icon i1"><i class="fa-brands fa-whatsapp"></i></a>
                <a href="#" class="royal-icon i2"><i class="fa-brands fa-facebook"></i></a>
                <a href="#" class="royal-icon i3"><i class="fa-brands fa-instagram"></i></a>
            </div>
        </div>
    </div>

    <script>
        const clickArrow = document.getElementById('click-arrow');
        const projectile = document.getElementById('projectile-system');
        const flagWrapper = document.getElementById('flag-wrapper');
        const icons = document.querySelectorAll('.royal-icon');
        const audio = document.getElementById('swoosh-audio');

        clickArrow.onclick = () => {
            if(projectile.style.display === 'block') return;

            // 1. Play Sound
            audio.play().catch(e => console.log("Interact first"));
            
            // 2. Hide loaded arrow
            clickArrow.style.opacity = '0';

            // 3. Shoot Arrow (Slow Speed)
            projectile.style.display = 'block';
            projectile.classList.add('anim-shoot');

            // 4. Impact & Flag Drop (Matches flight time 1.6s)
            setTimeout(() => {
                
                // झंडा गिराएं (Stable)
                flagWrapper.classList.add('flag-open');
                
                // आइकन्स दिखाएं (थोड़ा रुक कर)
                setTimeout(() => icons[0].classList.add('icon-visible'), 500);
                setTimeout(() => icons[1].classList.add('icon-visible'), 700);
                setTimeout(() => icons[2].classList.add('icon-visible'), 900);

            }, 1600); // 1.6s Delay

            // 5. Reset (15s)
            setTimeout(() => {
                projectile.style.display = 'none';
                projectile.classList.remove('anim-shoot');
                flagWrapper.classList.remove('flag-open');
                icons.forEach(i => i.classList.remove('icon-visible'));
                clickArrow.style.opacity = '1';
            }, 15000);
        };
    </script>
</body>
</html>